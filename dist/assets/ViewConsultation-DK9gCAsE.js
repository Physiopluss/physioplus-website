import{e as j,f as y,d as a,o as f,j as s}from"./index-CWqE7d4E.js";import{f as g}from"./homecare-G6_0bD5I.js";const w={0:"Female",1:"Male",2:"Other"},O=()=>{var r,d;const c=j(),{state:t}=y(),[e,m]=a.useState((t==null?void 0:t.order)||{}),n=(r=t==null?void 0:t.order)==null?void 0:r._id,u=f(e==null?void 0:e.date).format("DD MMM YYYY"),[N,i]=a.useState(!1),[o,x]=a.useState("");a.useEffect(()=>{n&&(async()=>{i(!0);try{const l=await g(n);m(l)}catch(l){x("Failed to load consultation details"),console.error(l)}finally{i(!1)}})()},[n]);const h=()=>{c("/homecare/show-invoice",{state:{order:e,type:"appointment"}})},p=e.paymentOverview||"You can download your invoice after consultation is verified.";return s.jsxs("div",{className:"p-4 max-w-md mx-auto text-black space-y-4",children:[s.jsx("h1",{className:"text-center font-semibold text-lg mb-4",children:"View Consultation"}),o&&s.jsx("div",{className:"text-red-500 text-center",children:o}),s.jsxs("div",{className:"rounded-xl border p-4 space-y-2 shadow-sm",children:[s.jsxs("details",{open:!0,children:[s.jsx("summary",{className:"font-medium",children:"General Details"}),s.jsxs("div",{className:"text-sm mt-2 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Patient Name:"})," ",e==null?void 0:e.patientName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Age:"})," ",e==null?void 0:e.age]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Gender:"})," ",w[e==null?void 0:e.gender]||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultation Amount:"})," â‚¹",e==null?void 0:e.amount]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consultation Date:"})," ",u]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment Mode:"})," ",(e==null?void 0:e.paymentMode)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Payment:"})," ",e!=null&&e.transactionId?"Paid":"Pending"]})]})]}),s.jsxs("details",{children:[s.jsx("summary",{className:"font-medium",children:"Your Problem"}),s.jsx("textarea",{readOnly:!0,value:(e==null?void 0:e.painNotes)||"",className:"w-full mt-2 p-2 border rounded bg-gray-100 text-sm",rows:3})]}),s.jsxs("details",{children:[s.jsx("summary",{className:"font-medium",children:"Physio Prescription"}),s.jsx("textarea",{readOnly:!0,value:(e==null?void 0:e.prescriptionNotes)||"",className:"w-full mt-2 p-2 border rounded bg-gray-100 text-sm",rows:3})]}),s.jsxs("details",{children:[s.jsx("summary",{className:"font-medium",children:"Address"}),s.jsx("textarea",{readOnly:!0,value:((d=e==null?void 0:e.patientId)==null?void 0:d.appointmentAddress)||"",className:"w-full mt-2 p-2 border rounded bg-gray-100 text-sm",rows:2})]}),s.jsxs("details",{children:[s.jsx("summary",{className:"font-medium",children:"Payment Overview"}),s.jsx("textarea",{readOnly:!0,value:p,className:"w-full mt-2 p-2 border rounded bg-gray-100 text-sm",rows:2})]}),s.jsx("button",{className:"w-full bg-green text-white font-semibold py-2 rounded-lg mt-2",disabled:!(e!=null&&e.appointmentCompleted),onClick:h,children:"Download Invoice"})]})]})};export{O as default};
