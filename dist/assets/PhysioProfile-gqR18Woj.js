import{e as A,z as F,d as t,c as R,f as T,j as e,B as U,p as D}from"./index-CWqE7d4E.js";import{S as P,a as k}from"./swiper-CFyT-W-G.js";import{P as H}from"./pagination-BVzKLOVQ.js";/* empty css                   */import{n as M}from"./homecare-G6_0bD5I.js";import{A as _}from"./arrow-left-ClF6XGeO.js";import{S as q,U as G}from"./users-C_LIwtxM.js";import{S as X}from"./star-D1f8gJ5g.js";import{C as Y}from"./circle-check-big-BS5SuW5M.js";import"./create-element-if-not-defined-Cx-lO9wB.js";function le(){var x,f,u,h,g,b,j,w,N,p,v;const r=A(),{physioId:i}=F(),[s,S]=t.useState(null),[C,B]=t.useState(!0),[n,I]=t.useState(!1),E=R(l=>l.authNew.user),V=T(),[d,c]=t.useState(null),z=(x=V.state)==null?void 0:x.patientCount;if(t.useEffect(()=>{(async()=>{try{const a=await M(i);S(a)}catch(a){console.error("Error fetching physio:",a),r("/not-found")}finally{B(!1)}})()},[i]),C)return e.jsx("div",{className:"text-center mt-4",children:"Loading..."});if(!s)return e.jsx("div",{className:"text-center mt-4",children:"Physio not found"});const m=150,o=((f=s==null?void 0:s.about)==null?void 0:f.length)>m,L=n?s==null?void 0:s.about:((u=s==null?void 0:s.about)==null?void 0:u.slice(0,m))+(o?"...":"");return e.jsxs("div",{className:" mx-auto md:max-w-4xl max-w-sm  px-4 py-4 ",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("button",{onClick:()=>r(-1),children:e.jsx(_,{className:"h-5 w-5 text-green-700"})}),e.jsx("h2",{className:"ml-auto mr-auto text-sm font-medium text-green",children:"View Profile"})]}),e.jsxs("div",{className:"bg-[#f1fff4] p-4 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("img",{src:s==null?void 0:s.profileImage,alt:s.fullName,className:"w-20 h-20 rounded-full object-cover border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-md font-semibold text-green",children:s==null?void 0:s.fullName}),e.jsxs("p",{className:"flex gap-2  text-sm",children:[e.jsx(q,{className:"w-4 h-4 flex-shrink-0 mt-1"}),e.jsx("span",{className:"break-words flex flex-wrap",children:[(g=(h=s==null?void 0:s.bptDegree)==null?void 0:h.degreeId)==null?void 0:g.name,(j=(b=s==null?void 0:s.mptDegree)==null?void 0:b.degreeId)==null?void 0:j.name].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"flex gap-2   text-sm",children:[e.jsx(G,{className:"w-4 h-4"})," ",z," Patient Treated"]}),e.jsxs("p",{className:"flex gap-2 text-sm",children:[e.jsx(X,{className:"w-4 h-4"}),s==null?void 0:s.rating," Rating"]})]})]}),e.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:(w=s==null?void 0:s.specialization)==null?void 0:w.map((l,a)=>e.jsx("span",{className:"bg-white text-green font-semibold px-3 py-1 rounded text-xs border border-green",children:l==null?void 0:l.name},a))}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center mt-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border p-2",children:[e.jsx(Y,{className:"inline-block mb-1 text-green"}),e.jsx("p",{className:"text-sm font-medium text-green",children:"Speak"}),e.jsx("p",{className:"text-xs",children:"Hindi, English"})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-2",children:[e.jsx(U,{className:"inline-block mb-1 text-green"}),e.jsxs("p",{className:"text-sm font-medium text-green",children:[s==null?void 0:s.workExperience,"+ Years"]}),e.jsx("p",{className:"text-xs",children:"Experience"})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-2",children:[e.jsx(D,{className:"inline-block mb-1 text-green"}),e.jsx("p",{className:"text-sm font-medium text-green",children:s==null?void 0:s.city}),e.jsx("p",{className:"text-xs",children:s==null?void 0:s.zipCode})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"About Physio"}),e.jsx("p",{className:"text-sm text-gray-700",children:L}),o&&e.jsx("button",{onClick:()=>I(!n),className:"text-green-700 text-sm font-medium mt-1",children:n?"See less":"See more"})]}),e.jsxs("div",{className:"mt-6 w-full ",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Sub-Specialty"}),e.jsx(P,{spaceBetween:8,slidesPerView:"auto",className:"!overflow-hidden block md:hidden",children:(N=s==null?void 0:s.subspecializationId)==null?void 0:N.map((l,a)=>e.jsx(k,{style:{width:"auto"},children:e.jsx("span",{className:"block bg-[#ebf7ee] text-green border border-[#a5ffb6] px-4 py-2 text-xs rounded-full text-center whitespace-nowrap",children:l==null?void 0:l.name})},a))}),e.jsx("div",{className:" flex-wrap gap-2 hidden md:flex mt-2",children:(p=s==null?void 0:s.subspecializationId)==null?void 0:p.map((l,a)=>e.jsx("span",{className:"bg-[#ebf7ee] text-green border border-[#a5ffb6] px-4 py-1 text-xs rounded-full",children:l==null?void 0:l.name},a))})]}),e.jsxs("div",{className:"mt-6 w-full",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Recovered Patients"}),e.jsx("div",{className:"w-full overflow-x-hidden",children:e.jsx(P,{spaceBetween:12,slidesPerView:"auto",pagination:{clickable:!0},modules:[H],className:"!pl-2 !overflow-hidden",breakpoints:{0:{slidesPerView:"auto",spaceBetween:12},480:{slidesPerView:1},640:{slidesPerView:1.5},768:{slidesPerView:2},1024:{slidesPerView:3}},children:(v=s==null?void 0:s.treatedPatient)==null?void 0:v.map((l,a)=>e.jsx(k,{className:"!w-full md:!w-[300px] lg:!w-[320px]",children:e.jsxs("div",{className:"rounded-lg overflow-hidden shadow-sm bg-white",children:[e.jsx("img",{src:l==null?void 0:l.patientImage,alt:l==null?void 0:l.patientName,onClick:()=>c(l==null?void 0:l.patientImage),className:"w-full h-40 object-cover transition-transform hover:scale-105"}),e.jsx("p",{className:"text-center py-2 text-sm font-medium text-green",children:l==null?void 0:l.patientName})]})},a))})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>c(null),children:e.jsxs("div",{className:"relative max-w-full max-h-full",onClick:l=>l.stopPropagation(),children:[e.jsx("button",{onClick:()=>c(null),className:"absolute -top-10 right-2 bg-white text-black rounded-full w-8 h-8 flex items-center justify-center font-bold text-xl shadow-md hover:bg-gray-200 transition",title:"Close",children:"Ã—"}),e.jsx("img",{src:d,alt:"Preview",className:"max-w-[90vw] max-h-[90vh] rounded-lg shadow-lg"})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{className:"w-full bg-green hover:bg-[#15692c] text-white py-3 rounded-xl text-sm font-medium",onClick:()=>{E?r(`/homecare/book/${s==null?void 0:s._id}`,{state:{physio:s}}):r("/homecare/signup-new")},children:"Book Physio Now"})})]})}export{le as default};
