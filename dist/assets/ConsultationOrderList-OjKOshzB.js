import{e as x,d as s,j as t}from"./index-CWqE7d4E.js";import{O as f}from"./OrderCard-V9xwSrLE.js";import{b as h}from"./homecare-G6_0bD5I.js";const j=()=>{var d;const m=x(),[n,u]=s.useState([]),[i,a]=s.useState(!0),[o,c]=s.useState(""),l=((d=JSON.parse(localStorage.getItem("homecareUser")))==null?void 0:d.userId)??null;return s.useEffect(()=>{let e=!0;return a(!0),c(""),h(l).then(r=>{e&&(u(Array.isArray(r)?r:[]),a(!1))}).catch(r=>{c("Failed to fetch consultations. Please try again."),a(!1)}),()=>{e=!1}},[l]),t.jsxs("div",{className:"min-h-screen p-4 bg-white",children:[t.jsx("h1",{className:"text-lg font-bold text-center my-5",children:"My Consultation"}),i&&t.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Loading..."}),o&&t.jsx("div",{className:"text-center text-red-500 mb-3",children:o}),!i&&n.length===0&&t.jsx("div",{className:"text-center text-gray-400 my-8",children:"No consultations found."}),t.jsx("div",{className:"space-y-4 flex justify-center items-center flex-col",children:n.map(e=>t.jsx(f,{order:e,type:"consultation",onView:()=>m(`/homecare/prefer-consultation/${e.id||e._id}`,{state:{order:e}})},e.id||e._id))})]})};export{j as default};
