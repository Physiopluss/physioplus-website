import{R as S,j as n,d as x,e as ce,f as de,B as he,p as ue,o as O}from"./index-B5YKgjKu.js";import{F as k}from"./index-DQkzyL4I.js";import{i as me,j as xe}from"./homecare-CKcwPhMF.js";import{C as le}from"./circle-check-big-BSM2FWzT.js";var M={linear:function(e,s,i,t){var a=i-s;return a*e/t+s},easeInQuad:function(e,s,i,t){var a=i-s;return a*(e/=t)*e+s},easeOutQuad:function(e,s,i,t){var a=i-s;return-a*(e/=t)*(e-2)+s},easeInOutQuad:function(e,s,i,t){var a=i-s;return(e/=t/2)<1?a/2*e*e+s:-a/2*(--e*(e-2)-1)+s},easeInCubic:function(e,s,i,t){var a=i-s;return a*(e/=t)*e*e+s},easeOutCubic:function(e,s,i,t){var a=i-s;return a*((e=e/t-1)*e*e+1)+s},easeInOutCubic:function(e,s,i,t){var a=i-s;return(e/=t/2)<1?a/2*e*e*e+s:a/2*((e-=2)*e*e+2)+s},easeInQuart:function(e,s,i,t){var a=i-s;return a*(e/=t)*e*e*e+s},easeOutQuart:function(e,s,i,t){var a=i-s;return-a*((e=e/t-1)*e*e*e-1)+s},easeInOutQuart:function(e,s,i,t){var a=i-s;return(e/=t/2)<1?a/2*e*e*e*e+s:-a/2*((e-=2)*e*e*e-2)+s},easeInQuint:function(e,s,i,t){var a=i-s;return a*(e/=t)*e*e*e*e+s},easeOutQuint:function(e,s,i,t){var a=i-s;return a*((e=e/t-1)*e*e*e*e+1)+s},easeInOutQuint:function(e,s,i,t){var a=i-s;return(e/=t/2)<1?a/2*e*e*e*e*e+s:a/2*((e-=2)*e*e*e*e+2)+s},easeInSine:function(e,s,i,t){var a=i-s;return-a*Math.cos(e/t*(Math.PI/2))+a+s},easeOutSine:function(e,s,i,t){var a=i-s;return a*Math.sin(e/t*(Math.PI/2))+s},easeInOutSine:function(e,s,i,t){var a=i-s;return-a/2*(Math.cos(Math.PI*e/t)-1)+s},easeInExpo:function(e,s,i,t){var a=i-s;return e==0?s:a*Math.pow(2,10*(e/t-1))+s},easeOutExpo:function(e,s,i,t){var a=i-s;return e==t?s+a:a*(-Math.pow(2,-10*e/t)+1)+s},easeInOutExpo:function(e,s,i,t){var a=i-s;return e===0?s:e===t?s+a:(e/=t/2)<1?a/2*Math.pow(2,10*(e-1))+s:a/2*(-Math.pow(2,-10*--e)+2)+s},easeInCirc:function(e,s,i,t){var a=i-s;return-a*(Math.sqrt(1-(e/=t)*e)-1)+s},easeOutCirc:function(e,s,i,t){var a=i-s;return a*Math.sqrt(1-(e=e/t-1)*e)+s},easeInOutCirc:function(e,s,i,t){var a=i-s;return(e/=t/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+s:a/2*(Math.sqrt(1-(e-=2)*e)+1)+s},easeInElastic:function(e,s,i,t){var a=i-s,r,o,l;return l=1.70158,o=0,r=a,e===0?s:(e/=t)===1?s+a:(o||(o=t*.3),r<Math.abs(a)?(r=a,l=o/4):l=o/(2*Math.PI)*Math.asin(a/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((e*t-l)*(2*Math.PI)/o))+s)},easeOutElastic:function(e,s,i,t){var a=i-s,r,o,l;return l=1.70158,o=0,r=a,e===0?s:(e/=t)===1?s+a:(o||(o=t*.3),r<Math.abs(a)?(r=a,l=o/4):l=o/(2*Math.PI)*Math.asin(a/r),r*Math.pow(2,-10*e)*Math.sin((e*t-l)*(2*Math.PI)/o)+a+s)},easeInOutElastic:function(e,s,i,t){var a=i-s,r,o,l;return l=1.70158,o=0,r=a,e===0?s:(e/=t/2)===2?s+a:(o||(o=t*(.3*1.5)),r<Math.abs(a)?(r=a,l=o/4):l=o/(2*Math.PI)*Math.asin(a/r),e<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e*t-l)*(2*Math.PI)/o))+s:r*Math.pow(2,-10*(e-=1))*Math.sin((e*t-l)*(2*Math.PI)/o)*.5+a+s)},easeInBack:function(e,s,i,t,a){var r=i-s;return a===void 0&&(a=1.70158),r*(e/=t)*e*((a+1)*e-a)+s},easeOutBack:function(e,s,i,t,a){var r=i-s;return a===void 0&&(a=1.70158),r*((e=e/t-1)*e*((a+1)*e+a)+1)+s},easeInOutBack:function(e,s,i,t,a){var r=i-s;return a===void 0&&(a=1.70158),(e/=t/2)<1?r/2*(e*e*(((a*=1.525)+1)*e-a))+s:r/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+s},easeInBounce:function(e,s,i,t){var a=i-s,r;return r=M.easeOutBounce(t-e,0,a,t),a-r+s},easeOutBounce:function(e,s,i,t){var a=i-s;return(e/=t)<1/2.75?a*(7.5625*e*e)+s:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+s:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+s:a*(7.5625*(e-=2.625/2.75)*e+.984375)+s},easeInOutBounce:function(e,s,i,t){var a=i-s,r;return e<t/2?(r=M.easeInBounce(e*2,0,a,t),r*.5+s):(r=M.easeOutBounce(e*2-t,0,a,t),r*.5+a*.5+s)}},fe=M;function pe(e){return e*Math.PI/180}function m(e,s){return e+Math.random()*(s-e)}function ge(e,s){return Math.floor(e+Math.random()*(s-e+1))}var I;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(I||(I={}));var j;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(j||(j={}));const be=1e3/60;class we{constructor(s,i,t,a){this.getOptions=i;const{colors:r,initialVelocityX:o,initialVelocityY:l}=this.getOptions();this.context=s,this.x=t,this.y=a,this.w=m(5,20),this.h=m(5,20),this.radius=m(5,10),this.vx=typeof o=="number"?m(-o,o):m(o.min,o.max),this.vy=typeof l=="number"?m(-l,0):m(l.min,l.max),this.shape=ge(0,2),this.angle=pe(m(0,360)),this.angularSpin=m(-.2,.2),this.color=r[Math.floor(Math.random()*r.length)],this.rotateY=m(0,1),this.rotationDirection=m(0,1)?j.Positive:j.Negative}update(s){const{gravity:i,wind:t,friction:a,opacity:r,drawShape:o}=this.getOptions(),l=s/be;this.x+=this.vx*l,this.y+=this.vy*l,this.vy+=i*l,this.vx+=t*l,this.vx*=a**l,this.vy*=a**l,this.rotateY>=1&&this.rotationDirection===j.Positive?this.rotationDirection=j.Negative:this.rotateY<=-1&&this.rotationDirection===j.Negative&&(this.rotationDirection=j.Positive);const u=.1*this.rotationDirection*l;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=r,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case I.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case I.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case I.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class ve{constructor(s,i){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=a=>{this.particles.splice(a,1)},this.getParticle=()=>{const a=m(this.x,this.w+this.x),r=m(this.y,this.h+this.y);return new we(this.context,this.getOptions,a,r)},this.animate=a=>{const{canvas:r,context:o,particlesGenerated:l,lastNumberOfPieces:u}=this,{run:c,recycle:f,numberOfPieces:p,debug:N,tweenFunction:C,tweenDuration:g}=this.getOptions();if(!c)return!1;const w=this.particles.length,h=f?w:l;if(h<p){u!==p&&(this.tweenProgress=0,this.tweenFrom=h,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(g,Math.max(0,this.tweenProgress+a));const v=C(this.tweenProgress,this.tweenFrom,p,g),b=Math.round(v-h);for(let P=0;P<b;P++)this.particles.push(this.getParticle());this.particlesGenerated+=b}N&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${w}`,r.width-10,r.height-20));for(let v=this.particles.length-1;v>=0;v--){const b=this.particles[v];b.update(a),(b.y>r.height||b.y<-100||b.x>r.width+100||b.x<-100)&&(f&&h<=p?this.particles[v]=this.getParticle():this.removeParticleAt(v))}return w>0||h<p},this.canvas=s;const t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get canvas context");this.context=t,this.getOptions=i}}const F={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:fe.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class ye{constructor(s,i){this.lastFrameTime=0,this.setOptionsWithDefaults=a=>{const r={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...r,...F,...a},Object.assign(this,a.confettiSource)},this.update=(a=0)=>{const{options:{run:r,onConfettiComplete:o,frameRate:l},canvas:u,context:c}=this,f=Math.min(a-this.lastFrameTime,50);if(l&&f<1e3/l){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=a-(l?f%l:0),r&&(c.fillStyle="white",c.clearRect(0,0,u.width,u.height)),this.generator.animate(f)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=s;const t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get canvas context");this.context=t,this.generator=new ve(this.canvas,()=>this.options),this.options=i,this.update()}get options(){return this._options}set options(s){var a,r;const i=(a=this._options)==null?void 0:a.run,t=(r=this._options)==null?void 0:r.recycle;this.setOptionsWithDefaults(s),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof s.recycle=="boolean"&&s.recycle&&t===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof s.run=="boolean"&&s.run&&i===!1&&this.update()}}const je=S.createRef();class D extends S.Component{constructor(s){super(s),this.canvas=S.createRef(),this.canvas=s.canvasRef||je}componentDidMount(){if(this.canvas.current){const s=T(this.props)[0];this.confetti=new ye(this.canvas.current,s)}}componentDidUpdate(){const s=T(this.props)[0];this.confetti&&(this.confetti.options=s)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[s,i]=T(this.props),t={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...i.style};return n.jsx("canvas",{width:s.width,height:s.height,ref:this.canvas,...i,style:t})}}D.defaultProps={...F};D.displayName="ReactConfetti";function T(e){const s={},i={},t={},a=[...Object.keys(F),"confettiSource","drawShape","onConfettiComplete","frameRate"],r=["canvasRef"];for(const o in e){const l=e[o];a.includes(o)?s[o]=l:r.includes(o)?r[o]=l:t[o]=l}return[s,t,i]}const Ne=S.forwardRef((e,s)=>n.jsx(D,{canvasRef:s,...e})),Ce=({cashbackData:e,cashbackPercentage:s,onClose:i,onReveal:t})=>{const[a,r]=x.useState(""),[o,l]=x.useState(!1),[u,c]=x.useState(!1),[f,p]=x.useState(!1);x.useEffect(()=>{if(u){p(!0);try{new Audio("/sounds/reveal-sound.mp3").play()}catch{}}},[u]);const N=async()=>{var g,w;if(!a.trim())return alert("Please enter a valid UPI ID.");l(!0);try{const h=await me(e==null?void 0:e._id,a.trim());(g=h==null?void 0:h.data)!=null&&g.success?c(!0):alert(((w=h==null?void 0:h.data)==null?void 0:w.message)||"Failed to claim cashback.")}catch{alert("Something went wrong. Try again.")}finally{l(!1)}},C=()=>{t&&t(),i&&i()};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:[u&&f&&n.jsx(Ne,{}),n.jsxs("div",{className:"bg-white rounded-xl w-[90%] max-w-md p-6 shadow-lg relative",children:[n.jsx("button",{className:"absolute top-3 right-4 text-gray-400 hover:text-gray-600 text-xl font-bold",onClick:C,children:"×"}),n.jsx("div",{className:"flex flex-col items-center text-center",children:u?n.jsxs(n.Fragment,{children:[n.jsx(le,{className:"w-16 h-16 text-green mb-2 animate-bounce"}),n.jsx("div",{className:"text-green text-lg font-bold mt-1 mb-1",children:"Cashback Claimed Successfully!"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"It will be processed to your UPI soon."}),n.jsx("button",{className:"mt-2 px-4 py-2 border border-green text-green rounded-lg font-semibold hover:bg-green/10",onClick:C,children:"Close"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-full max-w-[340px] mx-auto mb-4",children:n.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-amber-300 via-green-200 to-green-500 shadow-xl p-[2px] relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/50 to-transparent pointer-events-none rounded-2xl"}),n.jsxs("div",{className:"relative bg-white rounded-2xl p-7 flex flex-col items-center",children:[n.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-gradient-to-br from-yellow-400 via-green-300 to-yellow-500 shadow-lg w-16 h-16 mb-3",children:n.jsx(k,{className:"text-white w-8 h-8"})}),n.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-1 tracking-wide drop-shadow",children:"Congratulations!"}),n.jsxs("p",{className:"text-gray-700 text-base mb-2 font-medium",children:["You are eligible for 🎁 ",n.jsx("br",{}),n.jsxs("span",{className:"mx-1 text-[1.4em] font-extrabold bg-gradient-to-r from-amber-500 to-green text-transparent bg-clip-text drop-shadow",children:[s," Cashback"]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-300 rounded-full"}),n.jsx("span",{className:"text-[13px] text-green font-semibold tracking-wide uppercase",children:"Cashback Reward Unlocked"}),n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-green-400 rounded-full"})]})]})]})}),n.jsxs("div",{className:"flex flex-col items-center w-full my-3",children:[n.jsx("label",{className:"text-[15px] font-medium text-gray-700 mb-2",children:"Enter your UPI ID to receive cashback"}),n.jsx("input",{type:"text",placeholder:"e.g. yourname@upi",value:a,onChange:g=>r(g.target.value),className:"w-full mb-3 border-2 border-green/20 rounded-lg px-4 py-2 text-base bg-green/5 focus:border-green focus:bg-white placeholder:text-gray-400 transition outline-none",autoFocus:!0,spellCheck:!1,pattern:".+@.+",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"We use this UPI ID to securely credit your cashback reward."})]}),n.jsx("button",{onClick:N,disabled:o,className:"w-full py-3 bg-gradient-to-r from-green/90 to-green/70 text-white font-semibold rounded-lg shadow hover:brightness-105 disabled:opacity-50",children:o?"Processing...":"Submit & Claim"})]})})]})]})},Se=()=>{var P,R,B,Y,E,A,_,q,Q,U,G,W,z,V,L,$,H,X,K,J,Z,ee,te,se,ne,ae,ie,re,oe;const e=ce(),{state:s}=de(),i=(P=s==null?void 0:s.order)==null?void 0:P._id,[t,a]=x.useState(null),[r,o]=x.useState(!0),[l,u]=x.useState(""),[c,f]=x.useState([]),[p,N]=x.useState(!1),[C,g]=x.useState(!1),w=((B=(R=t==null?void 0:t.isTreatmentScheduled)==null?void 0:R.isCashBack)==null?void 0:B.rewardPercentage)??0;x.useEffect(()=>{i&&(async()=>{o(!0);try{const y=await xe(i);a(y)}catch(y){u("Failed to load treatments"),console.error(y)}finally{o(!1)}})()},[i]),x.useEffect(()=>{var d;(d=t==null?void 0:t.isTreatmentScheduled)!=null&&d.treatmentDate&&f(t.isTreatmentScheduled.treatmentDate)},[t]);const h=c.some(d=>d.isPaid===!0),v=c.length>0&&c.every(d=>d.isPaid===!0),b=()=>{e("/homecare/show-invoice",{state:{order:t,type:"treatment"}})};return r?n.jsxs("div",{className:"flex flex-col justify-center items-center h-[60vh] space-y-3 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-green"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Fetching treatment details..."})]}):l?n.jsxs("div",{className:"flex flex-col justify-center items-center h-[60vh] text-center px-4",children:[n.jsx("p",{className:"text-red-600 font-semibold mb-2",children:l}),n.jsx("button",{className:"mt-2 px-4 py-2 bg-green text-white rounded-lg shadow",onClick:()=>window.location.reload(),children:"Retry"})]}):n.jsxs("div",{className:"bg-white w-full max-w-md mx-auto my-8 rounded-md shadow p-4 space-y-4",children:[n.jsxs("div",{className:"flex flex-col items-center py-3",children:[n.jsx("div",{className:"w-[70px] h-[70px] rounded-full bg-gray-200 mb-2 flex items-center justify-center overflow-hidden",children:(Y=t==null?void 0:t.physioId)!=null&&Y.profileImage?n.jsx("img",{src:t.physioId.profileImage,alt:`${((E=t==null?void 0:t.physioId)==null?void 0:E.name)||"Doctor"} profile`,className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-2xl text-gray-400 font-bold",children:(A=t==null?void 0:t.physioId)!=null&&A.name?t.physioId.name[0]:"?"})}),n.jsx("div",{className:"font-semibold text-center text-xl mb-4",children:((_=t==null?void 0:t.physioId)==null?void 0:_.fullName)||"Physio"}),n.jsx("div",{className:"w-full flex flex-wrap gap-4 justify-center mt-1 mb-1",children:((Q=(q=t==null?void 0:t.physioId)==null?void 0:q.specialization)==null?void 0:Q.length)>0?t.physioId.specialization.map(d=>n.jsx("span",{className:"bg-[rgb(245,255,249)] border-green border text-green text-sm px-2 py-1 rounded font-semibold",children:d==null?void 0:d.name},d._id||d.name)):"Specialization not available"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center mt-4",children:[n.jsxs("div",{className:"bg-[rgb(245,255,249)] rounded-lg border p-2",children:[n.jsx(le,{className:"inline-block mb-1 text-green"}),n.jsx("p",{className:"text-sm font-medium text-green",children:"Speak"}),n.jsx("p",{className:"text-xs",children:"Hindi, English"})]}),n.jsxs("div",{className:"bg-[rgb(245,255,249)] rounded-lg border p-2",children:[n.jsx(he,{className:"inline-block mb-1 text-green"}),n.jsxs("p",{className:"text-sm font-medium text-green",children:[(U=t==null?void 0:t.physioId)==null?void 0:U.workExperience,"+ Years"]}),n.jsx("p",{className:"text-xs",children:"Experience"})]}),n.jsxs("div",{className:"bg-[rgb(245,255,249)] rounded-lg border p-2",children:[n.jsx(ue,{className:"inline-block mb-1 text-green"}),n.jsx("p",{className:"text-sm font-medium text-green",children:(G=t==null?void 0:t.physioId)==null?void 0:G.city}),n.jsx("p",{className:"text-xs",children:(W=t==null?void 0:t.physioId)==null?void 0:W.zipCode})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-b from-green to-blue-900 rounded-md p-4 text-white text-md",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Home Visit"}),n.jsxs("div",{className:"text-base mb-2 font-semibold border-b-2 border-white/50 pb-2",children:["Your ",c.length,"-Day Treatment Wellness Plan Awaits!"]}),n.jsxs("ul",{className:"text-sm space-y-1 mb-3 list-none",children:[n.jsx("li",{children:"✔️ Your upcoming treatment session is all set"}),n.jsxs("li",{children:["✔️ It's a ",c.length,"-day treatment plan"]})]})]}),h&&n.jsx("div",{className:"bg-gradient-to-r from-green/20 to-white rounded-md text-green my-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("div",{className:"font-semibold text-lg my-2 w-[60%]",children:[n.jsx("p",{className:"mb-2",children:"Want to save more?"}),n.jsxs("p",{className:"text-xs mb-2",children:["Pay at once and get"," ",n.jsx("span",{className:"font-extrabold bg-white rounded text-green p-2",children:"70% Off"})]})]}),n.jsx("img",{src:"/homecare/coins.png",alt:"",className:"w-10 h-10"})]})}),((V=(z=t==null?void 0:t.isTreatmentScheduled)==null?void 0:z.isCashBack)==null?void 0:V.status)==="pending"&&!C&&n.jsxs("div",{className:"w-full max-w-[340px] mx-auto rounded-2xl shadow-xl bg-gradient-to-br from-green via-[#37e449] to-yellow-600 p-[2px] relative overflow-hidden my-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/30 to-transparent pointer-events-none rounded-2xl"}),n.jsxs("div",{className:"relative bg-white rounded-2xl py-7 px-4 flex flex-col items-center",children:[n.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-gradient-to-br from-yellow-400 via-yellow-300 to-yellow-500 shadow-lg w-16 h-16 mb-3",children:n.jsx(k,{className:"text-white w-8 h-8"})}),n.jsx("div",{className:"text-2xl font-bold text-black mb-2 tracking-wide drop-shadow text-center",children:"Congratulations!"}),n.jsxs("div",{className:"text-base text-green mb-3 text-center font-semibold",children:["You've received a"," ",n.jsx("span",{className:"text-amber-500 font-bold",children:"CashBack Card"})," ","🎉"]}),n.jsx("button",{onClick:()=>N(!0),className:"w-full rounded-lg py-3 bg-gradient-to-r from-green via-[#37e449] to-green text-base font-bold text-white shadow-md tracking-wide mt-2 hover:brightness-105 transition",children:"Tap to Reveal"}),n.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-300 rounded-full"}),n.jsx("span",{className:"text-[13px] text-green font-semibold tracking-wide uppercase",children:"CashBack Reward"}),n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-green-400 rounded-full"})]})]})]}),(($=(L=t==null?void 0:t.isTreatmentScheduled)==null?void 0:L.isCashBack)==null?void 0:$.status)==="process"&&n.jsxs("div",{className:"w-full max-w-[340px] mx-auto rounded-2xl shadow-xl bg-gradient-to-br from-green via-[#37e449] to-yellow-600 p-[2px] relative overflow-hidden my-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/25 to-transparent pointer-events-none rounded-2xl"}),n.jsxs("div",{className:"relative bg-white rounded-2xl py-7 px-4 flex flex-col items-center",children:[n.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-gradient-to-br from-yellow-400 via-yellow-300 to-yellow-500 shadow-lg w-16 h-16 mb-3",children:n.jsx(k,{className:"text-white w-8 h-8"})}),n.jsx("h2",{className:"text-2xl font-bold text-black mb-1 tracking-wide drop-shadow",children:"Congratulations!"}),n.jsxs("p",{className:"text-gray-700 text-base mb-2 font-medium",children:["You are eligible for 🎁 ",n.jsx("br",{}),n.jsxs("span",{className:"mx-1 text-[1.4em] font-extrabold bg-gradient-to-r from-green via-[#37e449] to-green text-transparent bg-clip-text drop-shadow",children:[w," Cashback"]})]}),n.jsx("button",{className:"w-full mt-2 rounded-lg py-3 bg-gradient-to-r from-green via-[#37e449] to-green text-base font-semibold text-white shadow-md",disabled:!0,children:"Cashback Pending"}),n.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-300 rounded-full"}),n.jsx("span",{className:"text-[13px] text-green font-semibold tracking-wide uppercase",children:"Processing Reward"}),n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-300 rounded-full"})]})]})]}),((X=(H=t==null?void 0:t.isTreatmentScheduled)==null?void 0:H.isCashBack)==null?void 0:X.status)==="success"&&n.jsxs("div",{className:"w-full mx-auto max-w-[340px] rounded-2xl shadow-xl bg-gradient-to-br from-green via-[#37e449] to-yellow-600 p-[2px] relative overflow-hidden my-8",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/30 to-transparent pointer-events-none rounded-2xl"}),n.jsxs("div",{className:"relative bg-white rounded-2xl py-7 px-4 flex flex-col items-center",children:[n.jsx("span",{className:"inline-flex items-center justify-center rounded-full bg-gradient-to-br from-yellow-400 via-yellow-300 to-yellow-500 shadow-lg w-16 h-16 mb-3",children:n.jsx(k,{className:"text-white w-8 h-8"})}),n.jsx("h2",{className:"text-2xl font-bold text-black mb-1 tracking-wide drop-shadow",children:"Congratulations!"}),n.jsxs("div",{className:"font-bold text-green text-xl mb-2 text-center flex items-center justify-center gap-1",children:["Cashback Credited ",n.jsx("span",{className:"ml-1 text-[22px]",children:"✅"})]}),n.jsxs("div",{className:"text-base text-green mb-5 text-center font-medium",children:["₹",(J=(K=t==null?void 0:t.isTreatmentScheduled)==null?void 0:K.isCashBack)==null?void 0:J.rewardAmount," has been sent to ",n.jsx("br",{}),n.jsx("span",{className:"font-semibold text-gray-900",children:(ee=(Z=t==null?void 0:t.isTreatmentScheduled)==null?void 0:Z.isCashBack)==null?void 0:ee.userUpiId})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-300 rounded-full"}),n.jsx("span",{className:"text-[13px] text-green font-semibold tracking-wide uppercase",children:"Enjoy your reward!"}),n.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-amber-300 rounded-full"})]})]})]}),p&&n.jsx(Ce,{cashbackData:(te=t==null?void 0:t.isTreatmentScheduled)==null?void 0:te.isCashBack,cashbackPercentage:w,onReveal:()=>{g(!0),N(!1)},onClose:()=>N(!1)}),n.jsxs("div",{className:"rounded-xl border p-4 space-y-2 shadow-sm",children:[n.jsxs("details",{open:!0,children:[n.jsx("summary",{className:"font-medium",children:"Treatment Report"}),n.jsxs("div",{className:"text-sm mt-2 space-y-1 p-4",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Treatment Days:"})," ",c.length," Days Plan"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Duration:"})," ",O((se=c==null?void 0:c[0])==null?void 0:se.date).format("DD MMM YYYY")," -"," ",O((ne=c==null?void 0:c[c.length-1])==null?void 0:ne.date).format("DD MMM YYYY")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Treatment Amount:"})," ₹",((ae=t==null?void 0:t.isTreatmentScheduled)==null?void 0:ae.amount)||0]})]})]}),n.jsxs("details",{children:[n.jsx("summary",{className:"font-medium",children:"Physio Prescription"}),n.jsx("textarea",{readOnly:!0,value:((ie=t==null?void 0:t.isTreatmentScheduled)==null?void 0:ie.prescriptionNotes)||"",className:"w-full mt-2 p-2 border rounded bg-gray-100 text-sm",rows:3})]})]}),n.jsx("div",{className:"rounded-xl border p-4 space-y-2 shadow-sm",children:n.jsxs("details",{open:!0,children:[n.jsx("summary",{className:"font-medium",children:"Treatment Overview"}),n.jsx("div",{className:"mt-2 space-y-2",children:c.map((d,y)=>n.jsxs("div",{className:`flex justify-between items-center px-4 py-2 rounded-lg ${d.isPaid?"bg-green/10 text-green font-medium":"bg-gray-100 text-black"}`,children:["Treatment Day ",y+1," – ",O(d.date).format("DD MMM YYYY"),d.isPaid?n.jsx("span",{className:"text-xs bg-[#e9fded] text-green rounded-full px-2 py-0.5",children:"Paid"}):n.jsx("button",{className:"text-xs bg-green text-white rounded-full px-2 py-0.5",onClick:()=>e("/homecare/treatment-payment",{state:{order:t,day:d}}),children:"Pay"})]},d._id||y))})]})}),v?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"w-full bg-green text-white font-semibold py-2 rounded-lg mt-2",children:"Payment Completed"}),n.jsx("button",{className:`w-full border border-green text-green font-semibold py-2 rounded-lg mt-2 transition 
    ${(re=t==null?void 0:t.isTreatmentScheduled)!=null&&re.isTreatmentCompleted?"hover:bg-green/10 cursor-pointer":"opacity-60 cursor-not-allowed"}
  `,disabled:!((oe=t==null?void 0:t.isTreatmentScheduled)!=null&&oe.isTreatmentCompleted),onClick:b,children:"Download Invoice"})]}):n.jsx("button",{className:"w-full bg-green text-white font-semibold py-2 rounded-lg mt-2",onClick:()=>{const d=c.filter(y=>!y.isPaid);e("/homecare/treatment-payment",{state:{order:t,days:d}})},children:"Pay at once"})]})};export{Se as default};
