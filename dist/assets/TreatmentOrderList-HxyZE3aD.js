import{d as s,e as f,j as t}from"./index-B-e9AaA1.js";import{c as p}from"./homecare-ChnV4w0_.js";import{O as h}from"./OrderCard-BJpu5icv.js";const y=()=>{var o;const[n,l]=s.useState([]),m=f(),[d,c]=s.useState(!0),[i,x]=s.useState(""),a=((o=JSON.parse(localStorage.getItem("homecareUser")))==null?void 0:o.userId)??null;return s.useEffect(()=>{a&&(async()=>{c(!0);try{const r=await p(a);l(r||[])}catch(r){x("Failed to load treatments"),console.error(r)}finally{c(!1)}})()},[a]),t.jsxs("div",{className:"min-h-screen p-4 bg-white",children:[t.jsx("h1",{className:"text-lg font-bold text-center my-5",children:"My Treatments"}),d?t.jsx("p",{className:"text-center text-gray-500",children:"Loading..."}):i?t.jsx("p",{className:"text-center text-red-600",children:i}):n.length===0?t.jsx("p",{className:"text-center text-gray-600",children:"No treatment records found."}):t.jsx("div",{className:"space-y-4 flex justify-center items-center flex-col",children:n.map(e=>t.jsx(h,{order:e,type:"treatment",onView:()=>m(`/homecare/prefer-Treatment/${e.id||e._id}`,{state:{order:e}})},e.id||e._id))})]})};export{y as default};
