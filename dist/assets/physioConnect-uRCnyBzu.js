import{D as c,A as w,i as f}from"./index-B5YKgjKu.js";const p="http://192.168.29.134:8000/api/",m="AIzaSyD_siVrqpxKwm4Eh7wwqbJV7wibyL9ZI7c",$=async e=>{try{const t=await c.post(`${p}web/physio/signUpPhysioOtp`,{phone:e});return t.status>=200&&t.status<300||t.status>=400&&t.status<500?t:new Error("Something went wrong")}catch(t){return t.response}},E=async e=>{try{const t=await f.post("web/physio/loginPhysioOtp",{phone:e});return t.status>=200&&t.status<300||t.status>=400&&t.status<500?t:new Error("Something went wrong")}catch(t){return t.response?t.response:t.message}},z=async(e,t,s)=>{try{const o=()=>new Promise(i=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(y=>i({latitude:y.coords.latitude,longitude:y.coords.longitude}),y=>{console.warn("Geolocation error:",y),w.error("Unable to fetch location. Please enable location services."),i({latitude:null,longitude:null})}):(w.error("Geolocation is not supported by your browser."),i({latitude:null,longitude:null}))}),{latitude:r,longitude:a}=await o(),u={name:s,phone:e,otp:t,latitude:r?r.toString():null,longitude:a?a.toString():null,location:{type:"Point",coordinates:a&&r?[a,r]:[0,0]}},n=await c.post(`${p}web/physio/verifyOtp`,u);return n.status>=200&&n.status<300||n.status>=400&&n.status<500?n:(w.error("Something went wrong. Please try again."),new Error("Unexpected server response"))}catch(o){return w.error("OTP verification failed: "+((o==null?void 0:o.message)||"Unknown error")),o.response}},S=async()=>{try{const e=await c.get(`${p}web/degree`);return e.status>=200&&e.status<300||e.status>=400&&e.status<500?e:new Error("Something went wrong")}catch(e){return e.response}},I=async()=>{try{const e=await c.get(`${p}web/all-specializations`);return e.status>=200&&e.status<300||e.status>=400&&e.status<500?e:new Error("Something went wrong")}catch(e){return e.response}},_=async({physioConnectPhysioId:e,fullName:t,gender:s,dob:o,phone:r,email:a,about:u})=>{try{const n=await c.post(`${p}web/physio/createPhysioPersonalDetails?physioId=${e}`,{physioId:e,fullName:t,gender:s,dob:o,email:a,phone:r,about:u});return n.status>=200&&n.status<300||n.status>=400&&n.status<500?n:new Error("Something went wrong")}catch(n){return n.response}},C=async({physioConnectPhysioId:e,bptDegree:t,mptDegree:s,specialization:o,experience:r,serviceType:a,iapMember:u,iapNumber:n})=>{try{const i=await c.post(`${p}web/physio/createPhysioProfessionalDetails?physioId=${e}`,{physioId:e,bptDegree:t,mptDegree:s,specialization:o,experience:r,serviceType:a,iapMember:u,iapNumber:n});return i.status>=200&&i.status<300||i.status>=400&&i.status<500?i:new Error("Something went wrong")}catch(i){return i.response}},A=async(e,t,s,o,r,a,u,n,i,y,h,d,g)=>{try{const l=await c.post(`${p}web/physio/createPhysioBusinessDetails`,{physioId:g,clinicName:e,clinicAddress:t,clinicPincode:s,clinicCity:o,clinicState:r,clinicCharges:a,clinicDuration:u,homePincode:n,homeCity:i,homeState:y,homeDuration:h,homeCharges:d});return l.status>=200&&l.status<300||l.status>=400&&l.status<500?l:new Error("Something went wrong")}catch(l){return l.response}},v=async(e,t)=>{try{const s=await c.post(`${p}web/physio/coupon?couponName`,{couponName:e,physioId:t},{headers:{"Content-Type":"application/json"}});if(s.status>=200&&s.status<300)return s.data;if(s.status>=400&&s.status<500)return s.data}catch(s){return s.response?s.response:s.message}},D=async(e,t,s,o)=>{try{const r=await c.post(`${p}web/physio/createPayment`,{physioId:e,amount:t,couponId:o},{headers:{"Content-Type":"application/json"}});if(r.status>=200&&r.status<300){const a=r.data.data;return await P({data:a,mobileNumber:s})}else return new Error(r.data.message)}catch(r){return Promise.reject(r)}},P=async({data:e,mobileNumber:t})=>new Promise((s,o)=>{const r={key:"rzp_live_dide7BrPMysRI2",amount:e.amount,currency:e.currency,name:"Physioplus Healthcare",prefill:{contact:t},order_id:e.id,handler:async a=>{const u=await c.post(`${p}web/physio/verifyPayment`,{orderId:a.razorpay_order_id,razorpay_payment_id:a.razorpay_payment_id,razorpay_signature:a.razorpay_signature},{headers:{"content-type":"application/json"}});u.status>=200&&u.status<300?s(u.data):o(new Error(`Payment verification failed with status ${u.status}`))},theme:{color:"#039342"}};window.Razorpay?new window.Razorpay(r).open():o(new Error("Razorpay is not loaded or not available."))}),O=async e=>{try{const t=await c.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${e}&key=${m}`);return t.status>=200&&t.status<300?t.data:t.status>=400&&t.status<500?t:new Error("Something went wrong")}catch(t){return t.response}},R=async e=>{try{const t=await c.get(`${p}web/physio/getPhysioDetailsById?Id=${e}`);return t.status>=200&&t.status<300?t.data:t.status>=400&&t.status<500?t:new Error("Something went wrong")}catch(t){return t.response}};export{E as a,C as b,S as c,I as d,_ as e,A as f,R as g,v as h,D as i,$ as j,O as l,z as p};
