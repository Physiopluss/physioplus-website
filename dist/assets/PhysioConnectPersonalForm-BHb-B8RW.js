import{d as l,e as j,u as w,c as P,a9 as C,_ as b,aQ as I,j as e,aR as F,r as o}from"./index-B-e9AaA1.js";import{e as E,g as S}from"./physioConnect-wQ3SlVLV.js";import{u as q,c as D,a as i,b as O}from"./formik.esm-BXPmvFRR.js";import{S as $}from"./StepIndicator-B3qCL_Yh.js";const V=()=>{const[t,y]=l.useState(),x=j(),N=w(),d=P(s=>{var r;return(r=s==null?void 0:s.physioConnectAuth)==null?void 0:r.physioId});l.useEffect(()=>{C.send({hitType:"pageview",page:window.location.pathname,title:"Physio Connect Personal Form"})},[]),l.useEffect(()=>{(async()=>{try{const r=await S(d);r.success?y(r.physioData):console.error("Error in response:",r.message)}catch(r){console.error("Error fetching physio data:",r)}})()},[]);const v={Passionate:"I am dedicated to guiding patients on their journey to recovery with energy, empathy, and unwavering commitment.",Experienced:"With years of hands-on practice, I've developed the skills and knowledge to provide effective, personalized treatments that address each patient's unique needs.",Compassionate:"I understand the challenges of recovery and approach each patient with care, patience, and empathy to make their healing journey as comfortable as possible.",Innovative:"I constantly explore new techniques and technologies to enhance treatments, ensuring my patients receive cutting-edge care that's both effective and engaging.",Trustworthy:"Building strong, honest relationships with my patients is my priority, creating a safe space where they feel comfortable sharing their concerns and goals.",Motivated:"I am driven to help patients achieve their best possible outcomes, encouraging them every step of the way to stay positive and committed to their recovery.",Approachable:"I maintain an open and friendly environment where patients feel heard, understood, and supported."},a=q({initialValues:{fullName:"",gender:"",dob:"",email:"",phone:"",about:""},validationSchema:D().shape({fullName:i().required("Name is required"),gender:O().required("Gender is required"),dob:i().required("Date of Birth is required"),email:i().email("Invalid email").required("E-mail is required"),phone:i().required("Contact is required"),about:i().required("Description is required").max(500,"Description cannot exceed 500 characters")}),onSubmit:s=>{const{fullName:r,gender:c,dob:m,email:h,phone:n,about:u}=s;E({fullName:r,gender:c,dob:m,email:h,phone:n,about:u,physioConnectPhysioId:d}).then(p=>{var g,f;p.status===200?(b.success((g=p.data)==null?void 0:g.message),setTimeout(()=>{x("/physio-connect/professional-details")},1e3)):b.error((f=p.data)==null?void 0:f.message)})}});if(l.useEffect(()=>{var s;t&&a.setValues({fullName:t.fullName||"",gender:t.gender!=null?t.gender.toString():"",dob:((s=t.dob)==null?void 0:s.split("T")[0])||"",email:t.email||"",phone:t.phone||"",about:t.about||""})},[t]),d==null||d.length==0){const s=sessionStorage.getItem("physioConnectId");if(s!=null)N(I(s));else return e.jsx(F,{to:"/physio-connect/signup"})}return l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-[#FFFDF5] px-2 py-4  justify-center  md:px-8 lg:px-16",children:[e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx($,{currentStep:1})}),e.jsx("div",{className:"w-full max-w-6xl mx-auto border border-gray-200 rounded-lg bg-white px-4 md:px-12 py-8",children:e.jsxs("form",{onSubmit:a.handleSubmit,className:"flex flex-col gap-4 flex-1 max-w-screen-lg",children:[e.jsx("h6",{className:"font-semibold text-3xl",children:"Personal Details"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Fill in your personal details below"}),e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{htmlFor:"fullName",className:"text-sm font-semibold",children:"Name"}),e.jsx(o.Input,{name:"fullName",id:"fullName",placeholder:"Enter Your Name",value:a.values.fullName,onChange:a.handleChange,className:"!border !border-gray-300 bg-white focus:!border-gray-300 focus:!shadow-none rounded-md",labelProps:{className:"hidden"},containerProps:{className:"min-w-0"}}),a.touched.fullName&&a.errors.fullName&&e.jsx("p",{className:"text-red-500",children:a.errors.fullName})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-semibold",children:"Email"}),e.jsx(o.Input,{name:"email",id:"email",placeholder:"Enter Your Email",value:a.values.email,onChange:a.handleChange,className:"!border !border-gray-300 bg-white focus:!border-gray-300 focus:!shadow-none rounded-md",labelProps:{className:"hidden"},containerProps:{className:"min-w-0"}}),a.touched.email&&a.errors.email&&e.jsx("p",{className:"text-red-500",children:a.errors.email})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{htmlFor:"phone",className:"text-sm font-semibold",children:"Contact Number"}),e.jsx(o.Input,{name:"phone",id:"phone",placeholder:"Enter Your Phone",value:a.values.phone,readOnly:!0,className:"!border !border-gray-300 bg-gray-100 cursor-not-allowed text-gray-500 focus:!border-gray-300 focus:!shadow-none rounded-md",labelProps:{className:"hidden"},containerProps:{className:"min-w-0"}}),a.touched.phone&&a.errors.phone&&e.jsx("p",{className:"text-red-500",children:a.errors.phone})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{htmlFor:"dob",className:"text-sm font-semibold",children:"Date of Birth"}),e.jsx(o.Input,{type:"date",name:"dob",id:"dob",value:a.values.dob,onChange:a.handleChange,className:"!border !border-gray-300 bg-white focus:!border-gray-300 focus:!shadow-none rounded-md",labelProps:{className:"hidden"},containerProps:{className:"min-w-0"}}),a.touched.dob&&a.errors.dob&&e.jsx("p",{className:"text-red-500",children:a.errors.dob})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("label",{htmlFor:"gender",className:"text-sm font-semibold",children:"Gender"}),e.jsxs(o.Select,{id:"gender",name:"gender",value:a.values.gender,onChange:s=>a.setFieldValue("gender",s),className:"!border !border-gray-300 bg-white focus:!border-gray-300 focus:!shadow-none rounded-md",labelProps:{className:"hidden"},containerProps:{className:"min-w-0"},children:[e.jsx(o.Option,{value:"",disabled:!0,children:"Select your gender"}),e.jsx(o.Option,{value:"1",children:"Male"}),e.jsx(o.Option,{value:"0",children:"Female"}),e.jsx(o.Option,{value:"2",children:"Other"})]}),a.touched.gender&&a.errors.gender&&e.jsx("p",{className:"text-red-500",children:a.errors.gender})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"about",className:"text-sm font-semibold",children:"About Physio"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(v).map(([s,r])=>{var m;const c=(m=a.values.about)==null?void 0:m.includes(r);return e.jsx("button",{type:"button",className:`px-3 py-1 rounded-md text-sm border transition-all duration-200
            ${c?"bg-[#e6f5e8] text-green border-green font-semibold":"bg-white text-green border-gray-300 hover:bg-gray-100"}
          `,onClick:()=>{const h=a.values.about||"";let n;if(c){const u=new RegExp(`\\s*${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\s*`,"g");n=h.replace(u," ").replace(/\s+/g," ").trim()}else n=`${h} ${r}`.trim();a.setFieldValue("about",n)},children:s},s)})}),e.jsx("textarea",{rows:"4",placeholder:"Enter additional description...",className:"w-full p-2 border border-gray-300 bg-white focus:border-black focus:outline-none rounded-md",value:a.values.about||"",onChange:s=>a.setFieldValue("about",s.target.value)}),a.touched.about&&a.errors.about&&e.jsx("p",{className:"text-red-500",children:a.errors.about})]}),e.jsxs("div",{className:"w-full flex flex-col-reverse sm:flex-row justify-between items-center gap-4 mt-4",children:[e.jsxs("p",{className:"text-center sm:text-left text-sm sm:text-base",children:["Already have an Account?"," ",e.jsx("span",{onClick:()=>x("/login-physio"),className:"text-green hover:text-green hover:underline font-medium cursor-pointer",children:"Login"})]}),e.jsx(o.Button,{className:"w-full sm:w-fit hover:shadow-none font-semibold px-6 sm:px-8 bg-green rounded-full py-3 sm:py-3",type:"submit",children:"Submit & Next"})]})]})})]})})};export{V as default};
