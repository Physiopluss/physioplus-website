import{c as A}from"./create-element-if-not-defined-DlF2qHBc.js";import{m as T,g as D,j as O,d as B,i as k,k as P}from"./swiper-C0r0i6p2.js";function V(y){let{swiper:e,extendParams:S,on:p,emit:w}=y;S({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function E(s){let n;return s&&typeof s=="string"&&e.isElement&&(n=e.el.querySelector(s)||e.hostEl.querySelector(s),n)?n:(s&&(typeof s=="string"&&(n=[...document.querySelectorAll(s)]),e.params.uniqueNavElements&&typeof s=="string"&&n&&n.length>1&&e.el.querySelectorAll(s).length===1?n=e.el.querySelector(s):n&&n.length===1&&(n=n[0])),s&&!n?s:n)}function x(s,n){const a=e.params.navigation;s=T(s),s.forEach(i=>{i&&(i.classList[n?"add":"remove"](...a.disabledClass.split(" ")),i.tagName==="BUTTON"&&(i.disabled=n),e.params.watchOverflow&&e.enabled&&i.classList[e.isLocked?"add":"remove"](a.lockClass))})}function f(){const{nextEl:s,prevEl:n}=e.navigation;if(e.params.loop){x(n,!1),x(s,!1);return}x(n,e.isBeginning&&!e.params.rewind),x(s,e.isEnd&&!e.params.rewind)}function u(s){s.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),w("navigationPrev"))}function r(s){s.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),w("navigationNext"))}function t(){const s=e.params.navigation;if(e.params.navigation=A(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(s.nextEl||s.prevEl))return;let n=E(s.nextEl),a=E(s.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:a}),n=T(n),a=T(a);const i=(c,o)=>{c&&c.addEventListener("click",o==="next"?r:u),!e.enabled&&c&&c.classList.add(...s.lockClass.split(" "))};n.forEach(c=>i(c,"next")),a.forEach(c=>i(c,"prev"))}function d(){let{nextEl:s,prevEl:n}=e.navigation;s=T(s),n=T(n);const a=(i,c)=>{i.removeEventListener("click",c==="next"?r:u),i.classList.remove(...e.params.navigation.disabledClass.split(" "))};s.forEach(i=>a(i,"next")),n.forEach(i=>a(i,"prev"))}p("init",()=>{e.params.navigation.enabled===!1?l():(t(),f())}),p("toEdge fromEdge lock unlock",()=>{f()}),p("destroy",()=>{d()}),p("enable disable",()=>{let{nextEl:s,prevEl:n}=e.navigation;if(s=T(s),n=T(n),e.enabled){f();return}[...s,...n].filter(a=>!!a).forEach(a=>a.classList.add(e.params.navigation.lockClass))}),p("click",(s,n)=>{let{nextEl:a,prevEl:i}=e.navigation;a=T(a),i=T(i);const c=n.target;let o=i.includes(c)||a.includes(c);if(e.isElement&&!o){const v=n.path||n.composedPath&&n.composedPath();v&&(o=v.find(g=>a.includes(g)||i.includes(g)))}if(e.params.navigation.hideOnClick&&!o){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===c||e.pagination.el.contains(c)))return;let v;a.length?v=a[0].classList.contains(e.params.navigation.hiddenClass):i.length&&(v=i[0].classList.contains(e.params.navigation.hiddenClass)),w(v===!0?"navigationShow":"navigationHide"),[...a,...i].filter(g=>!!g).forEach(g=>g.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),t(),f()},l=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:m,disable:l,update:f,init:t,destroy:d})}function q(y){let{swiper:e,extendParams:S,on:p}=y;S({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let w=!1,E=!1;e.thumbs={swiper:null};function x(){const r=e.thumbs.swiper;if(!r||r.destroyed)return;const t=r.clickedIndex,d=r.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let m;r.params.loop?m=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10):m=t,e.params.loop?e.slideToLoop(m):e.slideTo(m)}function f(){const{thumbs:r}=e.params;if(w)return!1;w=!0;const t=e.constructor;if(r.swiper instanceof t)e.thumbs.swiper=r.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(O(r.swiper)){const d=Object.assign({},r.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(d),E=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",x),!0}function u(r){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const d=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let m=1;const l=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(m=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),t.slides.forEach(a=>a.classList.remove(l)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let a=0;a<m;a+=1)B(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+a}"]`).forEach(i=>{i.classList.add(l)});else for(let a=0;a<m;a+=1)t.slides[e.realIndex+a]&&t.slides[e.realIndex+a].classList.add(l);const s=e.params.thumbs.autoScrollOffset,n=s&&!t.params.loop;if(e.realIndex!==t.realIndex||n){const a=t.activeIndex;let i,c;if(t.params.loop){const o=t.slides.filter(v=>v.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];i=t.slides.indexOf(o),c=e.activeIndex>e.previousIndex?"next":"prev"}else i=e.realIndex,c=i>e.previousIndex?"next":"prev";n&&(i+=c==="next"?s:-1*s),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(i)<0&&(t.params.centeredSlides?i>a?i=i-Math.floor(d/2)+1:i=i+Math.floor(d/2)-1:i>a&&t.params.slidesPerGroup,t.slideTo(i,r?0:void 0))}}p("beforeInit",()=>{const{thumbs:r}=e.params;if(!(!r||!r.swiper))if(typeof r.swiper=="string"||r.swiper instanceof HTMLElement){const t=D(),d=()=>{const l=typeof r.swiper=="string"?t.querySelector(r.swiper):r.swiper;if(l&&l.swiper)r.swiper=l.swiper,f(),u(!0);else if(l){const s=`${e.params.eventsPrefix}init`,n=a=>{r.swiper=a.detail[0],l.removeEventListener(s,n),f(),u(!0),r.swiper.update(),e.update()};l.addEventListener(s,n)}return l},m=()=>{if(e.destroyed)return;d()||requestAnimationFrame(m)};requestAnimationFrame(m)}else f(),u(!0)}),p("slideChange update resize observerUpdate",()=>{u()}),p("setTransition",(r,t)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(t)}),p("beforeDestroy",()=>{const r=e.thumbs.swiper;!r||r.destroyed||E&&r.destroy()}),Object.assign(e.thumbs,{init:f,update:u})}function R(y){let{swiper:e,extendParams:S,emit:p,once:w}=y;S({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function E(){if(e.params.cssMode)return;const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function x(){if(e.params.cssMode)return;const{touchEventsData:u,touches:r}=e;u.velocities.length===0&&u.velocities.push({position:r[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:r[e.isHorizontal()?"currentX":"currentY"],time:k()})}function f(u){let{currentPos:r}=u;if(e.params.cssMode)return;const{params:t,wrapperEl:d,rtlTranslate:m,snapGrid:l,touchEventsData:s}=e,a=k()-s.touchStartTime;if(r<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(r>-e.maxTranslate()){e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(s.velocities.length>1){const h=s.velocities.pop(),b=s.velocities.pop(),L=h.position-b.position,I=h.time-b.time;e.velocity=L/I,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(I>150||k()-h.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,s.velocities.length=0;let i=1e3*t.freeMode.momentumRatio;const c=e.velocity*i;let o=e.translate+c;m&&(o=-o);let v=!1,g;const M=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let C;if(o<e.maxTranslate())t.freeMode.momentumBounce?(o+e.maxTranslate()<-M&&(o=e.maxTranslate()-M),g=e.maxTranslate(),v=!0,s.allowMomentumBounce=!0):o=e.maxTranslate(),t.loop&&t.centeredSlides&&(C=!0);else if(o>e.minTranslate())t.freeMode.momentumBounce?(o-e.minTranslate()>M&&(o=e.minTranslate()+M),g=e.minTranslate(),v=!0,s.allowMomentumBounce=!0):o=e.minTranslate(),t.loop&&t.centeredSlides&&(C=!0);else if(t.freeMode.sticky){let h;for(let b=0;b<l.length;b+=1)if(l[b]>-o){h=b;break}Math.abs(l[h]-o)<Math.abs(l[h-1]-o)||e.swipeDirection==="next"?o=l[h]:o=l[h-1],o=-o}if(C&&w("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(m?i=Math.abs((-o-e.translate)/e.velocity):i=Math.abs((o-e.translate)/e.velocity),t.freeMode.sticky){const h=Math.abs((m?-o:o)-e.translate),b=e.slidesSizesGrid[e.activeIndex];h<b?i=t.speed:h<2*b?i=t.speed*1.5:i=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&v?(e.updateProgress(g),e.setTransition(i),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating=!0,P(d,()=>{!e||e.destroyed||!s.allowMomentumBounce||(p("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(g),P(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(p("_freeModeNoMomentumRelease"),e.updateProgress(o),e.setTransition(i),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,P(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(o),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&p("_freeModeNoMomentumRelease");(!t.freeMode.momentum||a>=t.longSwipesMs)&&(p("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:E,onTouchMove:x,onTouchEnd:f}})}export{V as N,q as T,R as f};
