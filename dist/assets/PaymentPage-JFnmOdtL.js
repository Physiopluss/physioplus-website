import{R as w,d as a,t as gt,f as ht,e as yt,j as m,r as Pe,_ as M}from"./index-B5YKgjKu.js";import{k as $t,p as Et}from"./homecare-CKcwPhMF.js";const Ce=typeof document<"u"?w.useLayoutEffect:()=>{};var le;const xt=(le=w.useInsertionEffect)!==null&&le!==void 0?le:Ce;function wt(e){const t=a.useRef(null);return xt(()=>{t.current=e},[e]),a.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const R=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},G=e=>e&&"window"in e&&e.window===e?e:R(e).defaultView||window;function Tt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Ft(e){return Tt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Nt=!1;function ge(){return Nt}function Ae(e,t){if(!ge())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Ft(n)?n=n.host:n=n.parentNode}return!1}const de=(e=document)=>{var t;if(!ge())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Oe(e){return ge()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Pt(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function St(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function De(e){let t=null;return()=>(t==null&&(t=e()),t)}const Lt=De(function(){return St(/^Mac/i)}),kt=De(function(){return Pt(/Android/i)});function Ie(){let e=a.useRef(new Map),t=a.useCallback((o,i,s,u)=>{let l=u!=null&&u.once?(...p)=>{e.current.delete(s),s(...p)}:s;e.current.set(s,{type:i,eventTarget:o,fn:l,options:u}),o.addEventListener(i,l,u)},[]),n=a.useCallback((o,i,s,u)=>{var l;let p=((l=e.current.get(s))===null||l===void 0?void 0:l.fn)||s;o.removeEventListener(i,p,u),e.current.delete(s)},[]),r=a.useCallback(()=>{e.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return a.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function jt(e){return e.mozInputSource===0&&e.isTrusted?!0:kt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Me(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Ct(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Re(e){let t=a.useRef({isFocused:!1,observer:null});Ce(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=wt(r=>{e==null||e(r)});return a.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=s=>{if(t.current.isFocused=!1,o.disabled){let u=Me(s);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let At=!1,Y=null,fe=new Set,z=new Map,W=!1,pe=!1;const Ot={Tab:!0,Escape:!0};function he(e,t){for(let n of fe)n(e,t)}function Dt(e){return!(e.metaKey||!Lt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ne(e){W=!0,Dt(e)&&(Y="keyboard",he("keyboard",e))}function U(e){Y="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(W=!0,he("pointer",e))}function He(e){jt(e)&&(W=!0,Y="virtual")}function _e(e){e.target===window||e.target===document||At||!e.isTrusted||(!W&&!pe&&(Y="virtual",he("virtual",e)),W=!1,pe=!1)}function Ge(){W=!1,pe=!0}function me(e){if(typeof window>"u"||typeof document>"u"||z.get(G(e)))return;const t=G(e),n=R(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){W=!0,r.apply(this,arguments)},n.addEventListener("keydown",ne,!0),n.addEventListener("keyup",ne,!0),n.addEventListener("click",He,!0),t.addEventListener("focus",_e,!0),t.addEventListener("blur",Ge,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",U,!0),n.addEventListener("pointermove",U,!0),n.addEventListener("pointerup",U,!0)),t.addEventListener("beforeunload",()=>{We(e)},{once:!0}),z.set(t,{focus:r})}const We=(e,t)=>{const n=G(e),r=R(e);t&&r.removeEventListener("DOMContentLoaded",t),z.has(n)&&(n.HTMLElement.prototype.focus=z.get(n).focus,r.removeEventListener("keydown",ne,!0),r.removeEventListener("keyup",ne,!0),r.removeEventListener("click",He,!0),n.removeEventListener("focus",_e,!0),n.removeEventListener("blur",Ge,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",U,!0),r.removeEventListener("pointermove",U,!0),r.removeEventListener("pointerup",U,!0)),z.delete(n))};function It(e){const t=R(e);let n;return t.readyState!=="loading"?me(e):(n=()=>{me(e)},t.addEventListener("DOMContentLoaded",n)),()=>We(e,n)}typeof document<"u"&&It();function Ue(){return Y!=="pointer"}const Mt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Rt(e,t,n){let r=R(n==null?void 0:n.target);const o=typeof window<"u"?G(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?G(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?G(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?G(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Mt.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof s&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!Ot[n.key])}function Ht(e,t,n){me(),a.useEffect(()=>{let r=(o,i)=>{Rt(!!(n!=null&&n.isTextInput),o,i)&&e(Ue())};return fe.add(r),()=>{fe.delete(r)}},t)}function _t(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=a.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),s=Re(i),u=a.useCallback(l=>{const p=R(l.target),c=p?de(p):de();l.target===l.currentTarget&&c===Oe(l.nativeEvent)&&(n&&n(l),o&&o(!0),s(l))},[o,n,s]);return{focusProps:{onFocus:!t&&(n||o||r)?u:void 0,onBlur:!t&&(r||o)?i:void 0}}}function Gt(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=a.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:u}=Ie(),l=a.useCallback(d=>{d.currentTarget.contains(d.target)&&i.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(i.current.isFocusWithin=!1,u(),n&&n(d),o&&o(!1))},[n,o,i,u]),p=Re(l),c=a.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const g=R(d.target),v=de(g);if(!i.current.isFocusWithin&&v===Oe(d.nativeEvent)){r&&r(d),o&&o(!0),i.current.isFocusWithin=!0,p(d);let f=d.currentTarget;s(g,"focus",y=>{if(i.current.isFocusWithin&&!Ae(f,y.target)){let h=new g.defaultView.FocusEvent("blur",{relatedTarget:y.target});Ct(h,f);let E=Me(h);l(E)}},{capture:!0})}},[r,o,p,s,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:l}}}let ve=!1,ee=0;function Wt(){ve=!0,setTimeout(()=>{ve=!1},50)}function Se(e){e.pointerType==="touch"&&Wt()}function Ut(){if(!(typeof document>"u"))return ee===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Se),ee++,()=>{ee--,!(ee>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Se)}}function Be(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,s]=a.useState(!1),u=a.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;a.useEffect(Ut,[]);let{addGlobalListener:l,removeAllGlobalListeners:p}=Ie(),{hoverProps:c,triggerHoverEnd:d}=a.useMemo(()=>{let g=(y,h)=>{if(u.pointerType=h,o||h==="touch"||u.isHovered||!y.currentTarget.contains(y.target))return;u.isHovered=!0;let E=y.currentTarget;u.target=E,l(R(y.target),"pointerover",x=>{u.isHovered&&u.target&&!Ae(u.target,x.target)&&v(x,x.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:E,pointerType:h}),n&&n(!0),s(!0)},v=(y,h)=>{let E=u.target;u.pointerType="",u.target=null,!(h==="touch"||!u.isHovered||!E)&&(u.isHovered=!1,p(),r&&r({type:"hoverend",target:E,pointerType:h}),n&&n(!1),s(!1))},f={};return typeof PointerEvent<"u"&&(f.onPointerEnter=y=>{ve&&y.pointerType==="mouse"||g(y,y.pointerType)},f.onPointerLeave=y=>{!o&&y.currentTarget.contains(y.target)&&v(y,y.pointerType)}),{hoverProps:f,triggerHoverEnd:v}},[t,n,r,o,u,l,p]);return a.useEffect(()=>{o&&d({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:c,isHovered:i}}function Ve(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=a.useRef({isFocused:!1,isFocusVisible:t||Ue()}),[i,s]=a.useState(!1),[u,l]=a.useState(()=>o.current.isFocused&&o.current.isFocusVisible),p=a.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),c=a.useCallback(v=>{o.current.isFocused=v,s(v),p()},[p]);Ht(v=>{o.current.isFocusVisible=v,p()},[],{isTextInput:n});let{focusProps:d}=_t({isDisabled:r,onFocusChange:c}),{focusWithinProps:g}=Gt({isDisabled:!r,onFocusWithinChange:c});return{isFocused:i,isFocusVisible:u,focusProps:r?g:d}}var Bt=Object.defineProperty,Vt=(e,t,n)=>t in e?Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t,n)=>(Vt(e,typeof t!="symbol"?t+"":t,n),n);let Kt=class{constructor(){se(this,"current",this.detect()),se(this,"handoffState","pending"),se(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ke=new Kt;function qt(e){var t,n;return Ke.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Xt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function qe(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Xt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=qe();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function zt(){let[e]=a.useState(qe);return a.useEffect(()=>()=>e.dispose(),[e]),e}let J=(e,t)=>{Ke.isServer?a.useEffect(e,t):a.useLayoutEffect(e,t)};function ye(e){let t=a.useRef(e);return J(()=>{t.current=e},[e]),t}let C=function(e){let t=ye(e);return w.useCallback((...n)=>t.current(...n),[t])},Yt=a.createContext(void 0);function re(){return a.useContext(Yt)}function Le(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function $e(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$e),r}var Jt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Jt||{}),Qt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Qt||{});function B(){let e=en();return a.useCallback(t=>Zt({mergeRefs:e,...t}),[e])}function Zt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s,mergeRefs:u}){u=u??tn;let l=Xe(t,e);if(i)return te(l,n,r,s,u);let p=o??0;if(p&2){let{static:c=!1,...d}=l;if(c)return te(d,n,r,s,u)}if(p&1){let{unmount:c=!0,...d}=l;return $e(c?0:1,{0(){return null},1(){return te({...d,hidden:!0,style:{display:"none"}},n,r,s,u)}})}return te(l,n,r,s,u)}function te(e,t={},n,r,o){let{as:i=n,children:s,refName:u="ref",...l}=ue(e,["unmount","static"]),p=e.ref!==void 0?{[u]:e.ref}:{},c=typeof s=="function"?s(t):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(t){let g=!1,v=[];for(let[f,y]of Object.entries(t))typeof y=="boolean"&&(g=!0),y===!0&&v.push(f.replace(/([A-Z])/g,h=>`-${h.toLowerCase()}`));if(g){d["data-headlessui-state"]=v.join(" ");for(let f of v)d[`data-${f}`]=""}}if(i===a.Fragment&&(Object.keys(H(l)).length>0||Object.keys(H(d)).length>0))if(!a.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(H(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(H(l)).concat(Object.keys(H(d))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=c.props,v=g==null?void 0:g.className,f=typeof v=="function"?(...E)=>Le(v(...E),l.className):Le(v,l.className),y=f?{className:f}:{},h=Xe(c.props,H(ue(l,["ref"])));for(let E in d)E in h&&delete d[E];return a.cloneElement(c,Object.assign({},h,d,p,{ref:o(nn(c),p.ref)},y))}return a.createElement(i,Object.assign({},ue(l,["ref"]),i!==a.Fragment&&p,i!==a.Fragment&&d),c)}function en(){let e=a.useRef([]),t=a.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function tn(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Xe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let s=n[r];for(let u of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;u(o,...i)}}});return t}function ze(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let s of i)s==null||s(...o)}});return t}function V(e){var t;return Object.assign(a.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function H(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ue(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function nn(e){return w.version.split(".")[0]>="19"?e.props.ref:e.ref}function rn(e,t,n){let[r,o]=a.useState(n),i=e!==void 0,s=a.useRef(i),u=a.useRef(!1),l=a.useRef(!1);return i&&!s.current&&!u.current?(u.current=!0,s.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&s.current&&!l.current&&(l.current=!0,s.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,C(p=>(i||o(p),t==null?void 0:t(p)))]}function on(e){let[t]=a.useState(e);return t}function Ye(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))Qe(n,Je(t,r),o);return n}function Je(e,t){return e?e+"["+t+"]":t}function Qe(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())Qe(e,Je(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Ye(n,t,e)}function an(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let ln="span";var Ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ee||{});function sn(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return B()({ourProps:i,theirProps:o,slot:{},defaultTag:ln,name:"Hidden"})}let Ze=V(sn),un=a.createContext(null);function cn({children:e}){let t=a.useContext(un);if(!t)return w.createElement(w.Fragment,null,e);let{target:n}=t;return n?gt.createPortal(w.createElement(w.Fragment,null,e),n):null}function dn({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,s]=a.useState(null),u=zt();return a.useEffect(()=>{if(r&&i)return u.addEventListener(i,"reset",r)},[i,t,r]),w.createElement(cn,null,w.createElement(fn,{setForm:s,formId:t}),Ye(e).map(([l,p])=>w.createElement(Ze,{features:Ee.Hidden,...H({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:p,...o})})))}function fn({setForm:e,formId:t}){return a.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:w.createElement(Ze,{features:Ee.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let pn=a.createContext(void 0);function et(){return a.useContext(pn)}function mn(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function tt(e){return mn(e)&&"tagName"in e}function oe(e){return tt(e)&&"accessKey"in e}function vn(e){return oe(e)&&e.nodeName==="INPUT"}function ke(e){return oe(e)&&e.nodeName==="LABEL"}function bn(e){return oe(e)&&e.nodeName==="FIELDSET"}function nt(e){return oe(e)&&e.nodeName==="LEGEND"}function gn(e){return tt(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function rt(e){let t=e.parentElement,n=null;for(;t&&!bn(t);)nt(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&hn(n)?!1:r}function hn(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(nt(t))return!1;t=t.previousElementSibling}return!0}let yn=Symbol();function Q(...e){let t=a.useRef(e);a.useEffect(()=>{t.current=e},[e]);let n=C(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[yn]))?void 0:n}let ae=a.createContext(null);ae.displayName="DescriptionContext";function ot(){let e=a.useContext(ae);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ot),t}return e}function $n(){var e,t;return(t=(e=a.useContext(ae))==null?void 0:e.value)!=null?t:void 0}function at(){let[e,t]=a.useState([]);return[e.length>0?e.join(" "):void 0,a.useMemo(()=>function(n){let r=C(i=>(t(s=>[...s,i]),()=>t(s=>{let u=s.slice(),l=u.indexOf(i);return l!==-1&&u.splice(l,1),u}))),o=a.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return w.createElement(ae.Provider,{value:o},n.children)},[t])]}let En="p";function xn(e,t){let n=a.useId(),r=re(),{id:o=`headlessui-description-${n}`,...i}=e,s=ot(),u=Q(t);J(()=>s.register(o),[o,s.register]);let l=r||!1,p=a.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),c={ref:u,...s.props,id:o};return B()({ourProps:c,theirProps:i,slot:p,defaultTag:En,name:s.name||"Description"})}let wn=V(xn),Tn=Object.assign(wn,{});var _=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(_||{});let ie=a.createContext(null);ie.displayName="LabelContext";function it(){let e=a.useContext(ie);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,it),t}return e}function lt(e){var t,n,r;let o=(n=(t=a.useContext(ie))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function st({inherit:e=!1}={}){let t=lt(),[n,r]=a.useState([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,a.useMemo(()=>function(i){let s=C(l=>(r(p=>[...p,l]),()=>r(p=>{let c=p.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),u=a.useMemo(()=>({register:s,slot:i.slot,name:i.name,props:i.props,value:i.value}),[s,i.slot,i.name,i.props,i.value]);return w.createElement(ie.Provider,{value:u},i.children)},[r])]}let Fn="label";function Nn(e,t){var n;let r=a.useId(),o=it(),i=et(),s=re(),{id:u=`headlessui-label-${r}`,htmlFor:l=i??((n=o.props)==null?void 0:n.htmlFor),passive:p=!1,...c}=e,d=Q(t);J(()=>o.register(u),[u,o.register]);let g=C(h=>{let E=h.currentTarget;if(!(h.target!==h.currentTarget&&gn(h.target))&&(ke(E)&&h.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(h),ke(E))){let x=document.getElementById(E.htmlFor);if(x){let S=x.getAttribute("disabled");if(S==="true"||S==="")return;let P=x.getAttribute("aria-disabled");if(P==="true"||P==="")return;(vn(x)&&(x.type==="file"||x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),v=s||!1,f=a.useMemo(()=>({...o.slot,disabled:v}),[o.slot,v]),y={ref:d,...o.props,id:u,htmlFor:l,onClick:g};return p&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in c&&delete c.onClick),B()({ourProps:y,theirProps:c,slot:f,defaultTag:l?Fn:"div",name:o.name||"Label"})}let Pn=V(Nn),Sn=Object.assign(Pn,{});function Ln(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function kn(e=Ln){return a.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}let jn=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Cn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var X=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(X||{}),be=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(be||{}),An=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(An||{});function On(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(jn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Dn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Cn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var In=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(In||{}),Mn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Mn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Rn=["textarea","input"].join(",");function Hn(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Rn))!=null?n:!1}function ut(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function je(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?ut(e):e:t&64?Dn(e):On(e);o.length>0&&s.length>1&&(s=s.filter(v=>!o.some(f=>f!=null&&"current"in f?(f==null?void 0:f.current)===v:f===v))),r=r??i.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=t&32?{preventScroll:!0}:{},c=0,d=s.length,g;do{if(c>=d||c+d<=0)return 0;let v=l+c;if(t&16)v=(v+d)%d;else{if(v<0)return 3;if(v>=d)return 1}g=s[v],g==null||g.focus(p),c+=u}while(g!==i.activeElement);return t&6&&Hn(g)&&g.select(),2}var _n=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(_n||{});let Gn={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:ut(n,r=>r.element.current)}},1(e,t){let n=e.options.slice(),r=e.options.findIndex(o=>o.id===t.id);return r===-1?e:(n.splice(r,1),{...e,options:n})}},xe=a.createContext(null);xe.displayName="RadioGroupDataContext";function we(e){let t=a.useContext(xe);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,we),n}return t}let Te=a.createContext(null);Te.displayName="RadioGroupActionsContext";function Fe(e){let t=a.useContext(Te);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fe),n}return t}function Wn(e,t){return $e(t.type,Gn,e,t)}let Un="div";function Bn(e,t){let n=a.useId(),r=re(),{id:o=`headlessui-radiogroup-${n}`,value:i,form:s,name:u,onChange:l,by:p,disabled:c=r||!1,defaultValue:d,tabIndex:g=0,...v}=e,f=kn(p),[y,h]=a.useReducer(Wn,{options:[]}),E=y.options,[x,S]=st(),[P,D]=at(),A=a.useRef(null),I=Q(A,t),b=on(d),[$,F]=rn(i,l,b),N=a.useMemo(()=>E.find(T=>!T.propsRef.current.disabled),[E]),k=a.useMemo(()=>E.some(T=>f(T.propsRef.current.value,$)),[E,$]),j=C(T=>{var K;if(c||f(T,$))return!1;let O=(K=E.find(Z=>f(Z.propsRef.current.value,T)))==null?void 0:K.propsRef.current;return O!=null&&O.disabled?!1:(F==null||F(T),!0)}),ct=C(T=>{let K=A.current;if(!K)return;let O=qt(K),Z=E.filter(L=>L.propsRef.current.disabled===!1).map(L=>L.element.current);switch(T.key){case _.Enter:an(T.currentTarget);break;case _.ArrowLeft:case _.ArrowUp:if(T.preventDefault(),T.stopPropagation(),je(Z,X.Previous|X.WrapAround)===be.Success){let L=E.find(q=>q.element.current===(O==null?void 0:O.activeElement));L&&j(L.propsRef.current.value)}break;case _.ArrowRight:case _.ArrowDown:if(T.preventDefault(),T.stopPropagation(),je(Z,X.Next|X.WrapAround)===be.Success){let L=E.find(q=>q.element.current===(O==null?void 0:O.activeElement));L&&j(L.propsRef.current.value)}break;case _.Space:{T.preventDefault(),T.stopPropagation();let L=E.find(q=>q.element.current===(O==null?void 0:O.activeElement));L&&j(L.propsRef.current.value)}break}}),Ne=C(T=>(h({type:0,...T}),()=>h({type:1,id:T.id}))),dt=a.useMemo(()=>({value:$,firstOption:N,containsCheckedOption:k,disabled:c,compare:f,tabIndex:g,...y}),[$,N,k,c,f,g,y]),ft=a.useMemo(()=>({registerOption:Ne,change:j}),[Ne,j]),pt={ref:I,id:o,role:"radiogroup","aria-labelledby":x,"aria-describedby":P,onKeyDown:ct},mt=a.useMemo(()=>({value:$}),[$]),vt=a.useCallback(()=>{if(b!==void 0)return j(b)},[j,b]),bt=B();return w.createElement(D,{name:"RadioGroup.Description"},w.createElement(S,{name:"RadioGroup.Label"},w.createElement(Te.Provider,{value:ft},w.createElement(xe.Provider,{value:dt},u!=null&&w.createElement(dn,{disabled:c,data:{[u]:$||"on"},overrides:{type:"radio",checked:$!=null},form:s,onReset:vt}),bt({ourProps:pt,theirProps:v,slot:mt,defaultTag:Un,name:"RadioGroup"})))))}let Vn="div";function Kn(e,t){var n;let r=we("RadioGroup.Option"),o=Fe("RadioGroup.Option"),i=a.useId(),{id:s=`headlessui-radiogroup-option-${i}`,value:u,disabled:l=r.disabled||!1,autoFocus:p=!1,...c}=e,d=a.useRef(null),g=Q(d,t),[v,f]=st(),[y,h]=at(),E=ye({value:u,disabled:l});J(()=>o.registerOption({id:s,element:d,propsRef:E}),[s,o,d,E]);let x=C(k=>{var j;if(rt(k.currentTarget))return k.preventDefault();o.change(u)&&((j=d.current)==null||j.focus())}),S=((n=r.firstOption)==null?void 0:n.id)===s,{isFocusVisible:P,focusProps:D}=Ve({autoFocus:p}),{isHovered:A,hoverProps:I}=Be({isDisabled:l}),b=r.compare(r.value,u),$=ze({ref:g,id:s,role:"radio","aria-checked":b?"true":"false","aria-labelledby":v,"aria-describedby":y,"aria-disabled":l?!0:void 0,tabIndex:l?-1:b||!r.containsCheckedOption&&S?r.tabIndex:-1,onClick:l?void 0:x,autoFocus:p},D,I),F=a.useMemo(()=>({checked:b,disabled:l,active:P,hover:A,focus:P,autofocus:p}),[b,l,A,P,p]),N=B();return w.createElement(h,{name:"RadioGroup.Description"},w.createElement(f,{name:"RadioGroup.Label"},N({ourProps:$,theirProps:c,slot:F,defaultTag:Vn,name:"RadioGroup.Option"})))}let qn="span";function Xn(e,t){var n;let r=we("Radio"),o=Fe("Radio"),i=a.useId(),s=et(),u=re(),{id:l=s||`headlessui-radio-${i}`,value:p,disabled:c=r.disabled||u||!1,autoFocus:d=!1,...g}=e,v=a.useRef(null),f=Q(v,t),y=lt(),h=$n(),E=ye({value:p,disabled:c});J(()=>o.registerOption({id:l,element:v,propsRef:E}),[l,o,v,E]);let x=C(N=>{var k;if(rt(N.currentTarget))return N.preventDefault();o.change(p)&&((k=v.current)==null||k.focus())}),{isFocusVisible:S,focusProps:P}=Ve({autoFocus:d}),{isHovered:D,hoverProps:A}=Be({isDisabled:c}),I=((n=r.firstOption)==null?void 0:n.id)===l,b=r.compare(r.value,p),$=ze({ref:f,id:l,role:"radio","aria-checked":b?"true":"false","aria-labelledby":y,"aria-describedby":h,"aria-disabled":c?!0:void 0,tabIndex:c?-1:b||!r.containsCheckedOption&&I?r.tabIndex:-1,autoFocus:d,onClick:c?void 0:x},P,A),F=a.useMemo(()=>({checked:b,disabled:c,hover:D,focus:S,autofocus:d}),[b,c,D,S,d]);return B()({ourProps:$,theirProps:g,slot:F,defaultTag:qn,name:"Radio"})}let zn=V(Bn),Yn=V(Kn),Jn=V(Xn),Qn=Sn,Zn=Tn,ce=Object.assign(zn,{Option:Yn,Radio:Jn,Label:Qn,Description:Zn});const rr=()=>{var I;const{state:e}=ht(),t=yt(),{order:n,day:r,days:o=[]}=e||{},i=JSON.parse(localStorage.getItem("homecareUser")),s=i==null?void 0:i.userId,u=i==null?void 0:i.userToken,[l,p]=a.useState([]),[c,d]=a.useState(""),[g,v]=a.useState(""),[f,y]=a.useState(null),[h,E]=a.useState(0),[x,S]=a.useState(0),P=a.useMemo(()=>{var b;return((b=n==null?void 0:n.isTreatmentScheduled)==null?void 0:b.amount)||(n==null?void 0:n.amount)||1e3},[n]);a.useEffect(()=>{var $,F;const b=((F=($=n==null?void 0:n.isTreatmentScheduled)==null?void 0:$.treatmentDate)==null?void 0:F.filter(N=>!N.isPaid))||[];p(b),Array.isArray(o)&&o.length?d("full"):r!=null&&r._id?d(r._id):b.length&&d(b[0]._id)},[n,r,o]),a.useEffect(()=>{c&&E(c==="full"?l.length*P:P)},[c,l,P]),a.useEffect(()=>{if((f==null?void 0:f.status)>=200&&(f==null?void 0:f.status)<300){const{discount:b,couponType:$}=f.data;if($===0)S(Math.max(0,h-b));else if($===1){const F=b/100*h;S(Math.max(0,h-F))}else S(h)}else S(h)},[h,f]);const D=async()=>{var b;if(!g.trim())return M.error("Enter a coupon code");try{const $=await $t(g.trim(),s,u);y($),($==null?void 0:$.status)>=200&&($==null?void 0:$.status)<300?M.success("Coupon applied successfully"):M.error(((b=$==null?void 0:$.data)==null?void 0:b.message)||"Invalid coupon")}catch{M.error("Failed to apply coupon")}},A=async()=>{var $,F;if(!c)return M.error("No treatment day selected");const b=c==="full"?l:[l.find(N=>N._id===c)].filter(Boolean);if(!b.length)return M.error("No unpaid treatments selected");try{const N=b.map(k=>k._id);await Et({treatmentDayIds:N,orderId:n._id,couponId:($=f==null?void 0:f.data)==null?void 0:$._id,amount:x,patientId:s,userToken:u,physioId:(F=n==null?void 0:n.physioId)==null?void 0:F._id}),M.success("Payment successful"),t(`/homecare/prefer-Treatment/${n.id||n._id}`,{state:{order:n}})}catch(N){M.error((N==null?void 0:N.message)||"Payment failed")}};return m.jsxs("div",{className:"bg-white w-full max-w-md mx-auto rounded-xl shadow p-5 py-8 my-10",children:[m.jsx("div",{className:"font-semibold text-lg text-center mb-6",children:"Select Treatment Payment"}),m.jsx("div",{className:"bg-gradient-to-r from-green/20 to-white rounded-md text-green my-4",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsxs("div",{className:"font-semibold text-lg my-2 w-[60%]",children:[m.jsx("p",{className:"mb-2",children:"Want to save more?"}),m.jsxs("p",{className:"text-xs mb-2",children:["Pay at once and get"," ",m.jsx("span",{className:"font-extrabold bg-white rounded text-green p-2",children:"70% Off"})]})]}),m.jsx("img",{src:"/homecare/coins.png",alt:"",className:"w-10 h-10"})]})}),m.jsxs(ce,{value:c,onChange:d,className:"space-y-3",children:[l.map((b,$)=>m.jsx(ce.Option,{value:b._id,className:({checked:F})=>`flex justify-between items-center border px-4 py-3 rounded-lg cursor-pointer ${F?"border-green bg-green/5":"border-gray-300"}`,children:({checked:F})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${F?"border-green bg-green":"border-gray-400"}`}),m.jsxs("div",{className:"text-sm font-medium",children:["Treatment Day ",$+1," – ₹",P]})]}),m.jsx("span",{className:"text-xs bg-green text-white rounded-full px-2 py-0.5",children:"Unpaid"})]})},b._id)),l.length>1&&m.jsx(ce.Option,{value:"full",className:({checked:b})=>`flex justify-between items-center border px-4 py-3 rounded-lg cursor-pointer ${b?"border-green bg-green/5":"border-gray-300"}`,children:({checked:b})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${b?"border-green bg-green":"border-gray-400"}`}),m.jsxs("div",{className:"text-sm font-medium",children:["Pay for All (",l.length," Days) – ₹",l.length*P]})]}),m.jsx("span",{className:"text-xs bg-green text-white rounded-full px-2 py-0.5",children:"Unpaid"})]})})]}),m.jsxs("div",{className:"mt-6 relative flex w-full",children:[m.jsx(Pe.Input,{name:"coupon",placeholder:"Enter Coupon Code",className:"placeholder:text-blue-gray-300 border-none ring-1 ring-[#EAEBEC] focus:!border-t-green",value:g,onChange:b=>v(b.target.value)}),m.jsx(Pe.Button,{size:"lg",className:"!absolute right-0 py-2.5 rounded-none rounded-r bg-[#E6F4EC] text-black",onClick:D,children:"Apply"})]}),f&&m.jsx("div",{className:"my-2 text-sm",children:(f==null?void 0:f.status)>=200?m.jsxs("div",{className:"flex justify-between text-green-700",children:[m.jsx("span",{children:"Discount Applied"}),m.jsxs("span",{children:["- ₹",Math.max(0,h-x).toFixed(2)]})]}):m.jsx("div",{className:"text-red-600",children:((I=f==null?void 0:f.data)==null?void 0:I.message)||"Invalid coupon"})}),m.jsxs("div",{className:"mt-8 mb-2 border-t pt-4 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Sub Total"}),m.jsxs("span",{children:["₹",h.toFixed(2)]})]}),(f==null?void 0:f.status)>=200&&m.jsxs("div",{className:"flex justify-between text-green-700",children:[m.jsxs("span",{className:"text-green",children:["Discount (",g,")"]}),m.jsxs("span",{className:"text-green",children:["- ₹",Math.max(0,h-x).toFixed(2)]})]})]}),m.jsxs("div",{className:"flex justify-between py-2 text-md font-semibold",children:[m.jsx("span",{children:"Pay Online"}),m.jsxs("span",{className:"text-green",children:["₹",x.toFixed(2)]})]}),m.jsx("button",{onClick:A,className:"mt-4 w-full rounded-md bg-green text-white font-semibold py-3 text-lg disabled:opacity-50",disabled:!c,children:"Continue to Pay"})]})};export{rr as default};
